<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dragonchang.mapper.ShareStructureMapper">
    <resultMap id="BaseResultMap" type="com.dragonchang.domain.po.ShareStructure">
        <id column="id" property="id"/>
        <result column="company_id" property="companyId"/>
        <result column="share_company_name" property="shareCompanyName"/>
        <result column="share_company_stock_code" property="shareCompanyStockCode"/>
        <result column="share_company_amount" property="shareCompanyAmount"/>
        <result column="share_company_type" property="shareCompanyType"/>
        <result column="share_company_bond_type" property="shareCompanyBondType"/>
        <result column="share_company_finance_label" property="shareCompanyFinanceLabel"/>
        <result column="share_company_percent" property="shareCompanyPercent"/>
        <result column="share_company_brand" property="shareCompanyBrand"/>
        <result column="deleted" property="deleted"/>
        <result column="created_time" property="createdTime"/>
        <result column="created_by" property="createdBy"/>
    </resultMap>

    <resultMap id="DtoResultMap" type="com.dragonchang.domain.dto.ShareStructureDTO" extends="BaseResultMap">
        <result column="amount" property="amount"/>
        <result column="percent" property="percent"/>
    </resultMap>

    <select id="findList" resultMap="DtoResultMap">
        select * from t_share_structure
        where deleted=0
        <if test="request.companyId != null">
            and company_id =#{request.companyId}
        </if>
        <if test="request.startTime != null">
            and created_time &gt;= #{request.startTime}
        </if>
        <if test="request.endTime != null">
            and created_time &lt;= #{request.endTime}
        </if>
    </select>
</mapper>